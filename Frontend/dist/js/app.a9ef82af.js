(function(e){function t(t){for(var a,o,s=t[0],i=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],l[o]&&d.push(l[o][0]),l[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==l[i]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},l={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("c21b"),l=n.n(a);l.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",{staticClass:"whole"},[a("el-container",{staticStyle:{width:"80%"}},[a("el-header",{attrs:{height:"20%"}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"Please keywords to search for specific resource","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{plain:"",icon:"el-icon-search"},nativeOn:{click:function(t){e.search()}}},[e._v("Search")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-radio-group",{on:{change:e.display},model:{value:e.whichResourceToShow,callback:function(t){e.whichResourceToShow=t},expression:"whichResourceToShow"}},e._l(["All","Resource","Failure","ADR","Test Case"],function(e){return a("el-radio-button",{key:e,attrs:{label:e}})}))],1),a("el-col",{attrs:{offset:2,span:9}},[a("label",{staticStyle:{color:"white",display:"block"}},[a("input",{staticStyle:{width:"240px","margin-top":"20pt"},attrs:{type:"range",min:"0",max:"0.2",step:"any",value:"0.1"}}),e._v(" Link Strength")])])],1)],1),a("el-main",[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{id:"id"}},[e._v("id: ")]),a("el-tag",{attrs:{id:"name"}},[e._v("name: ")]),a("el-tag",{attrs:{id:"type"}},[e._v("type: ")]),a("el-tag",{attrs:{id:"layer"}},[e._v("layer: ")])],1),a("el-row",[a("img",{attrs:{id:"loading",src:n("cf1c")}}),a("svg",{attrs:{id:"graph",width:"1000",height:"500"}})]),a("el-row",[a("img",{attrs:{src:n("e46a")}})])],1)],1),a("el-aside",{attrs:{width:"25%"}},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:"Information show",name:"Information"}},[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{offset:2,span:20}},[a("el-form",{staticStyle:{"text-align":"left",height:"50%"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"Id"}},[a("el-input",{attrs:{id:"this_id",disabled:""}})],1),a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{id:"this_name",disabled:""}})],1),a("el-form-item",{attrs:{label:"Type"}},[a("el-input",{attrs:{id:"this_type",disabled:""}})],1),a("el-form-item",{attrs:{label:"Layer"}},[a("el-input",{attrs:{id:"this_layer",disabled:""}})],1),a("el-form-item",{attrs:{label:"Performance"}},[a("el-input",{attrs:{type:"textarea",id:"this_performance",disabled:""}})],1)],1)],1)],1)],1),a("el-collapse-item",{attrs:{title:"Resource",name:"Resource"}},[a("el-row",[a("el-col",{attrs:{offset:2,span:20}},[a("el-form",{staticStyle:{"text-align":"left"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"Resourece Name"}},[a("el-input",{model:{value:e.newResource.name,callback:function(t){e.$set(e.newResource,"name",t)},expression:"newResource.name"}})],1),a("el-form-item",{attrs:{label:"Resourece Type"}},[a("el-input",{model:{value:e.newResource.type,callback:function(t){e.$set(e.newResource,"type",t)},expression:"newResource.type"}})],1),a("el-form-item",{attrs:{label:"Resourece Layer"}},[a("el-input",{model:{value:e.newResource.layer,callback:function(t){e.$set(e.newResource,"layer",t)},expression:"newResource.layer"}})],1),a("el-form-item",{attrs:{label:"Resourece Performance"}},[a("el-input",{model:{value:e.newResource.performance,callback:function(t){e.$set(e.newResource,"performance",t)},expression:"newResource.performance"}})],1),a("el-form-item",{attrs:{label:"Resourece Relations"}},[a("el-input",{model:{value:e.newResource.relations,callback:function(t){e.$set(e.newResource,"relations",t)},expression:"newResource.relations"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){e.add(1)}}},[e._v("提交")])],1)],1)],1)],1),a("el-collapse-item",{attrs:{title:"Failure",name:"Failure"}},[a("el-row",[a("el-col",{attrs:{offset:2,span:20}},[a("el-form",{staticStyle:{"text-align":"left"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"Failure Name"}},[a("el-input",{model:{value:e.newFailure.name,callback:function(t){e.$set(e.newFailure,"name",t)},expression:"newFailure.name"}})],1),a("el-form-item",{attrs:{label:"Failure Type"}},[a("el-select",{staticStyle:{display:"inline"},attrs:{placeholder:"Choose failure type",size:"medium"},model:{value:e.newFailure.type,callback:function(t){e.$set(e.newFailure,"type",t)},expression:"newFailure.type"}},e._l(["Fail slow","Fail partial","Fail stop","Fail transient","Fail as well as corruption"],function(e){return a("el-option",{key:e,attrs:{value:e}})}))],1),a("el-form-item",{attrs:{label:"Failure Description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.newFailure.performance,callback:function(t){e.$set(e.newFailure,"performance",t)},expression:"newFailure.performance"}})],1),a("el-form-item",{attrs:{label:"Failure Relations"}},[a("el-input",{model:{value:e.newFailure.relations,callback:function(t){e.$set(e.newFailure,"relations",t)},expression:"newFailure.relations"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){e.add(2)}}},[e._v("提交")])],1)],1)],1)],1),a("el-collapse-item",{attrs:{title:"ADR",name:"ADR"}},[a("el-row",[a("el-col",{attrs:{offset:2,span:20}},[a("el-form",{staticStyle:{"text-align":"left"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"ADR Name"}},[a("el-input",{model:{value:e.newADR.name,callback:function(t){e.$set(e.newADR,"name",t)},expression:"newADR.name"}})],1),a("el-form-item",{attrs:{label:"ADR Link"}},[a("el-input",{model:{value:e.newADR.performance,callback:function(t){e.$set(e.newADR,"performance",t)},expression:"newADR.performance"}})],1),a("el-form-item",{attrs:{label:"ADR Relations"}},[a("el-input",{model:{value:e.newADR.relations,callback:function(t){e.$set(e.newADR,"relations",t)},expression:"newADR.relations"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){e.add(3)}}},[e._v("提交")])],1)],1)],1)],1),a("el-collapse-item",{attrs:{title:"Test Case",name:"Test Case"}},[a("el-row",[a("el-col",{attrs:{offset:2,span:20}},[a("el-form",{staticStyle:{"text-align":"left"},attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:"Test Case Name"}},[a("el-input",{model:{value:e.newTestCase.name,callback:function(t){e.$set(e.newTestCase,"name",t)},expression:"newTestCase.name"}})],1),a("el-form-item",{attrs:{label:"Test Case Link"}},[a("el-input",{model:{value:e.newTestCase.performance,callback:function(t){e.$set(e.newTestCase,"performance",t)},expression:"newTestCase.performance"}})],1),a("el-form-item",{attrs:{label:"Test Case Relations"}},[a("el-input",{model:{value:e.newTestCase.relations,callback:function(t){e.$set(e.newTestCase,"relations",t)},expression:"newTestCase.relations"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){e.add(4)}}},[e._v("提交")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[];n("28a5"),n("7f7f");function o(e){var t,n=JSON.stringify({label:e.label,id:100,name:e.name,type:e.type,layer:e.layer,performance:e.performance,relations:e.relations});return console.log(n),$.ajax({type:"post",async:!1,crossDomain:!0,url:"/bbs/api/addOneNode",beforeSend:function(e){e.setRequestHeader("Content-type","application/json")},dataType:"json",data:n,success:function(e){t=e,console.log(e)},error:function(e){console.log("A Something wrong!")}}),t}n("a481"),n("ac6a"),n("f400");function s(e,t){var n=new Map;n.set('"System"',"aqua"),n.set('"Service"',"lightskyblue"),n.set('"Component"',"deepskyblue"),n.set('"Container"',"royalblue"),n.set('"Container Resource"',"blue"),n.set('"VM"',"navy"),n.set('"Fail-stop"',"red"),n.set('"ADR"',"lime"),n.set('"Test Case"',"gold");var a=JSON.stringify(e),l=JSON.stringify(t);localStorage.setItem("nodes",a),localStorage.setItem("links",l);var r=1e3,o=500,s=d3.select("svg");r=+s.attr("width"),o=+s.attr("height");s.selectAll("*").remove(),console.log(d3.forceManyBody());var d=d3.forceSimulation(e).force("link",d3.forceLink(t).id(function(e){return e.id})).force("charge",d3.forceManyBody()).force("center",d3.forceCenter(r/2,o/2));d3.select("input[type = range]").on("input",b),d.nodes(e).on("tick",v),d.force("link").strength(.06).links(t);d3.scaleOrdinal(d3.schemeCategory20);var f=s.selectAll("line").data(t).enter().append("line").style("stroke","#ccc").style("stroke-width",1).call(d3.zoom().scaleExtent([-5,2])),m=s.selectAll("circle").data(e).enter().append("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r","16").attr("fill",function(e){return n.get(e.type)}).attr("stroke","gray").style("stroke-width",2).on("dblclick",i).on("click",c).on("mouseover",u).on("mouseout",p).call(d3.drag().on("start",h).on("drag",w).on("end",g)),y=s.selectAll("text").data(e).enter().append("text").style("fill","white").attr("dx",1).attr("dy",1).attr("text-anchor","middle").attr("font-size",8).text(function(e){return e.name.substring(0,8)});function h(e){d3.event.active||d.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}function w(e){e.fx=d3.event.x,e.fy=d3.event.y}function g(e){d3.event.active||d.alphaTarget(0),e.fx=null,e.fy=null}function b(){d.force("link").strength(+this.value),d.alpha(1).restart()}function v(){f.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),m.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),y.attr("x",function(e){return e.x}).attr("y",function(e){return e.y})}}function i(e){d(e.name)}function c(e){document.getElementById("this_id").value="id: "+e.id,document.getElementById("this_name").value="name: "+e.name,document.getElementById("this_type").value="type: "+e.type,document.getElementById("this_layer").value="layer: "+e.layer,document.getElementById("this_performance").value="performance: "+e.performance}function u(e){d3.select(this).style("stroke-width",6),d3.select(this).style("r",18),document.getElementById("id").innerHTML="id: "+e.id,document.getElementById("name").innerHTML="name: "+e.name,document.getElementById("type").innerHTML="type: "+e.type,document.getElementById("layer").innerHTML="layer: "+e.layer}function p(e){d3.select(this).style("stroke-width",2),d3.select(this).style("r",16)}function d(e){var t;document.getElementById("loading").style.display="inline",e=e.replace('"',"").replace('"',""),$.ajax({type:"post",async:!0,crossDomain:!0,url:"http://localhost:8088/bbs/api/getNeighbors",beforeSend:function(e){e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{name:e},success:function(e){t=e;var n=t.links,a=t.nodes,l=JSON.parse(localStorage.getItem("nodes")),r=JSON.parse(localStorage.getItem("links")),o=f(a,l,"n"),i=f(n,r,"l");console.log(o),console.log(i),s(o,i),document.getElementById("loading").style.display="none"},error:function(e){console.log("A Something wrong!")}})}function f(e,t,n){if("n"===n){for(var a=0;a<e.length;a++)for(var l=0;l<t.length;l++)if(e[a].name===t[l].name){e.splice(a--,1);break}}else for(a=0;a<e.length;a++)for(l=0;l<t.length;l++)if(e[a].source===t[l].source&&e[a].target===t[l].target&&e[a].type===t[l].type){e.splice(a--,1);break}var r=e.concat(t);return r}var m=n("1157"),y=n.n(m),h={data:function(){return{nodes:[],links:[],activeName:"Information",keyword:"",newResource:{},newADR:{},newFailure:{},newTestCase:{},whichResourceToShow:"All"}},methods:{showAll:function(){var e=this;y.a.ajax({type:"get",async:!0,crossDomain:!0,url:"/bbs/api/getAll",success:function(t){e.nodes=t.nodes,e.links=t.links,s(e.nodes,e.links),document.getElementById("loading").style.display="none"},error:function(e){console.log("Something went wrong!")}})},display:function(){if(document.getElementById("loading").style.display="inline","All"===this.whichResourceToShow)this.showAll();else{var e;switch(this.whichResourceToShow){case"Resource":e="ResourceNode";break;case"Failure":e="Failure_Node";break;case"ADR":e="ADR_Node";break;case"Test Case":e="TestCase_Node";break}var t=this;y.a.ajax({type:"post",async:!0,crossDomain:!0,url:"/bbs/api/getLabel",beforeSend:function(e){e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{label:e},success:function(e){t.nodes=e.nodes,t.links=e.links,s(t.nodes,t.links),document.getElementById("loading").style.display="none"},error:function(e){console.log("A Something wrong!")}})}},add:function(e){var t;switch(e){case 1:this.newResource.label="ResourceNode";for(var n=this.newResource.relations.split(", "),a=0;a<n.length;a++)n[a]=parseInt(n[a]);this.newResource.relations=n,t=this.newResource;break;case 2:this.newFailure.label="Failure_Node",this.newFailure.layer="0";for(n=this.newFailure.relations.split(", "),a=0;a<n.length;a++)n[a]=parseInt(n[a]);this.newFailure.relations=n,t=this.newFailure;break;case 3:this.newADR.label="ADR_Node",this.newADR.layer="0",this.newADR.type="ADR;";for(n=this.newADR.relations.split(", "),a=0;a<n.length;a++)n[a]=parseInt(n[a]);this.newADR.relations=n,t=this.newADR;break;case 4:this.newTestCase.label="TestCase_Node",this.newTestCase.layer="0",this.newTestCase.type="Test Case;";for(n=this.newTestCase.relations.split(", "),a=0;a<n.length;a++)n[a]=parseInt(n[a]);this.newTestCase.relations=n,t=this.newTestCase;break}console.log(t);var l=o(t);alert(l.state),this.display()},search:function(){var e=this;document.getElementById("loading").style.display="inline",y.a.ajax({type:"post",async:!0,crossDomain:!0,url:"http://localhost:8088/bbs/api/getNeighbors",beforeSend:function(e){e.setRequestHeader("Content-type","application/x-www-form-urlencoded")},data:{name:e.keyword},success:function(t){e.links=t.links,e.nodes=t.nodes,s(e.nodes,e.links),document.getElementById("loading").style.display="none"},error:function(e){console.log("A Something wrong!")}})}}},w=h,g=(n("034f"),n("2877")),b=Object(g["a"])(w,l,r,!1,null,null,null);b.options.__file="App.vue";var v=b.exports,k=n("5c96"),R=n.n(k);n("0fae");a["default"].use(R.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(v)}}).$mount("#app")},c21b:function(e,t,n){},cf1c:function(e,t,n){e.exports=n.p+"img/loading.465f5518.gif"},e46a:function(e,t,n){e.exports=n.p+"img/Rectangle.bec8d2eb.png"}});
//# sourceMappingURL=app.a9ef82af.js.map